<!doctype html>
<html lang="en">

    <head>

		<!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        
        <title>Strivix</title>

        <!-- CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
		<link rel="stylesheet" href="styles.css">
		<link rel="stylesheet" href="./glide-3.4.1/dist/css/glide.core.min.css">
		<link rel="stylesheet" href="./glide-3.4.1/dist/css/glide.theme.min.css">
		<script src="https://kit.fontawesome.com/ddd26a46d6.js" crossorigin="anonymous"></script>
        <!-- Favicon and touch icons -->
  

				<style>
				img{

   
     max-width: 100%;
     max-height: 100%;
    }
    .col-2{
      padding-left:4px!important;
      padding-right:0!important;
    } 
    .row{
      margin-left: 0 !important;
      margin-right: 0 !important;
    }
	</style>
    </head>

    <body id="indexbody">

		<!-- Top menu -->
		<nav class="navbar navbar-expand-lg navbar-dark">
			<a class="navbar-brand" href="#"
			  ></a>
			<button
			  class="navbar-toggler"
			  type="button"
			  data-toggle="collapse"
			  data-target="#navbarSupportedContent"
			  aria-controls="navbarSupportedContent"
			  aria-expanded="false"
			  aria-label="Toggle navigation"
			>
			  <span class="navbar-toggler-icon"></span>
			</button>
			
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
			  <ul class="navbar-nav mr-auto">
				<li class="nav-item">
					<a class="nav-link" href="#">
						<img src="imgs/netflix-logo-png-2562.png" width="80px" alt="">
					</a>
				  </li>
				<li class="nav-item active">
				  <a class="nav-link" href="#"
					>Home <span class="sr-only">(current)</span></a
				  >
				</li>
				<li class="nav-item">
				  <a class="nav-link" href="#">TV shows</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#">Movies</a>
				  </li>
				  <li class="nav-item">
					<a class="nav-link" href="#">Recently Added</a>
				  </li>
				  <li class="nav-item">
					<a class="nav-link" href="backoffice.html">Backoffice</a>
				  </li>
				
			  </ul>
			 

			  
			  <div id="search" class="nav-item">
				<i class="fas fa-search"></i>
			  </div>
			  <div class="nav-item" style="color: white;">
				<a class="nav-link">Children</a>
			  </div>
			  <div class="nav-item" style="color: white;" >
				<i class="fas fa-bell"></i>
			  </div>
			  <div  class="nav-item mr-5" style="background-color: black;" >
				<div class="d-flex">
					<div class="dropdown mr-1">
					  <div class="dropdown-menu" aria-labelledby="dropdownMenuOffset">
						<a class="dropdown-item" href="#">Action</a>
						<a class="dropdown-item" href="#">Another action</a>
						<a class="dropdown-item" href="#">Something else here</a>
					  </div>
					</div>
					<div class="btn-group " style="background-color: black;">
						<div class="ml-2"><img src="imgs/netflixpic.PNG" width="40px" height="40px" alt="">
						
						</div>
					  <button type="button" style="color: white;"class="btn  dropdown-toggle dropdown-toggle-split" id="dropdownMenuReference" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-reference="parent">
						<span class="sr-only">Toggle Dropdown</span>
					  </button>
					  <div class="dropdown-menu" aria-labelledby="dropdownMenuReference">
						<a class="dropdown-item" href="payment.html">Payment</a>
						<a class="dropdown-item" href="edit-profile.html">Edit Profile</a>
						
					</div>
				  </div>
			  </div>
			  
		  </nav>
		  <div class="title-wrapper">
			  <div style="display: inline-flex;">
			<h3 >TV shows</h3>
			<div class="dropdown mr-1">
				<button type="button" style="color: white;"class="btn btn-outline-dark ml- dropdown-toggle" id="dropdownMenuOffset" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-offset="10,20">
				  Genres
				</button>
				<div class="dropdown-menu" aria-labelledby="dropdownMenuOffset">
				  <a class="dropdown-item" href="#">Action</a>
				  <a class="dropdown-item" href="#">Another action</a>
				  <a class="dropdown-item" href="#">Something else here</a>
				</div>
			</div>
		</div>
			<p>Trending Now</p>
	</div>

      <div id="carousels">

	  </div>
	 
	
    
	
		<!-- Footer -->
		<footer>
			<div class="wrap">
			<div class="container ">
				<div class="row ">
				  <div class="col" id="footerIcons">
					<i class="fab fa-facebook-square"></i>
					<i class="fab fab fa-instagram"></i>
					<i class="fab fa-twitter-square"></i>
					<i class="fab fa-youtube"></i>
				  </div>
				</div>
			  </div>
			  <div class="container">
				<div class="row">
				  <div class="col footerContent">
					<p>Audio and Subtitle</p>
					<p>Media Center</p>
					<p>Privacy</p>
					<p>Contact Us</p>
				  </div>
				  <div class="col footerContent">
					<p>Audio Description</p>
					<p>Investor Relations</p>
					<p>Legal Notices</p>
				  </div>
				  <div class="col footerContent">
					<p>Help Center</p>
					<p>Jobs</p>
					<p>Cookie Preferences</p>
				  </div>
				  <div class="col footerContent">
					<p>Gift Cards</p>
					<p>Terms of Use</p>
					<p>Corporate Information</p>
				  </div>
				</div>
				<button type="button" class="btn btn-outline-dark my-3" style="color: #c1c1c1;">Service Code</button>
				<p style="color: #c1c1c1; font-size: 15px;">&copy; 1997-2019 Netflix, Inc. {i-0d00fcda2fdf9c0de}</p>
			  
			  </div>
			</div>

			</div>
		  
		
			
			</div>
			<!-- Copyright -->
		  
		  </footer>

		  <script>
			
			//   let CategoryArray
			  window.onload=async()=>{
				
				
			
			  try{
				  
				let content = document.querySelector('#carousels')
    // content.innerHTML = ''
    let categories = await getMovies();
    for(let i=0;i<categories.length;i++){
      content.innerHTML += `
      <div class="container-fluid series${i}" >
        <p class="pt-3 pb-2 title" style="font-size: 20px; color: white;">${categories[i].toUpperCase()}</p>
        <div class="glide ${i}">
        <div class="glide__track" data-glide-el="track">
          <ul class="glide__slides">
          </ul>
          <div class="glide__arrows" data-glide-el="controls">
            <button class="glide__arrow glide__arrow--left" data-glide-dir="<"><i class="fas fa-chevron-left"></i></button>
            <button class="glide__arrow glide__arrow--right" data-glide-dir=">"><i class="fas fa-chevron-right"></i></button>
          </div>
        </div>
      </div>
      </div>
      `
      let movies = await getCategoryMovies(categories[i])
      let categoryContainer = document.querySelector(`.series${i} .glide__slides`)
      // console.log(categoryContainer)
      if(movies.length >0){
        for(let j=0;j<movies.length;j++){
          categoryContainer.innerHTML +=`
          <li class="glide__slide">
            <div><a href="details.html?movieId=${movies[j]._id}&movieCategory=${categories[i]}"><img class="img-fluid" src="${movies[j].imageUrl}" alt=""></a></div>
          </li>
          `
        }
      }else{
        document.querySelector(`#content series${i}`).classList.add('d-none')
      }
    }
    // Mounting
    var sliders = document.querySelectorAll('.glide');
      for (var i = 0; i < sliders.length; i++) {
        var glide = new Glide(sliders[i], {
          type:'carousel',
          perView:4,
          gap: -90,
          autoplay: 2000,
          breakpoints:{
            1200:{
              perView :3
            },
            991:{
              gap:10,
              perView :2
            }
          }
        });       
        glide.mount();
      }
			  }catch(err){
				  alert(err)

			  }
			}

		
		


			
		  </script>
		
		<!-- Javascript -->
		<script src="//cdn.jsdelivr.net/npm/@glidejs/glide"></script>
		<script src="./glide-3.4.1/dist/glide.min.js"></script>
		<script src="functions.js"></script>
		<script src="test.js"></script>
		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

    </body>

</html>